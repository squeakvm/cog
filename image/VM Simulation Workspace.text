("Run the VM simulator on an image (by default this image :) )"| cos proc opts |CoInterpreter initializeWithOptions: (opts := Dictionary newFromPairs: #()).CogVMSimulator chooseAndInitCogitClassWithOpts: opts.cos := CogVMSimulator new."cos initializeThreadSupport."cos desiredNumStackPages: 8.cos openOn: 'CogTrunk43.image'.false ifTrue:	[cos systemAttributes		at: 2 put: '-doit';		at: 3 put:	'ShootoutTests runAllToTranscript.  Smalltalk quitPrimitive']."cos cogit breakPC: 16r2697.""cos cogit traceStores: true.""cos cogit sendTrace: 6." "trace prims & print""cos cogit singleStep: true.""cos cogit printInstructions: true.""cos linkSends: false.""cos enableCog: false.""cos setBreakSelector: 'standardIOStreamNamed:forWrite:'.""cos cogit setBreakMethod: 16rCE1630.""cos cogit	cog: 16rAB0B28 + cos startOfMemory	selector: 16r31F280 + cos startOfMemory." "e.g. jit a specific method without simulating"cos openAsMorph; run)("See what code the JIT generates for as method in the current image. Disassembly to transcript."| tuple |CogVMSimulator chooseAndInitCogitClassWithOpts: (Dictionary newFromPairs: #()).tuple := StackToRegisterMappingCogit cog: (Integer >> #benchFib) selector: #benchFib.tuple second disassembleMethod: tuple last)